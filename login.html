<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.1/css/bulma.min.css"/>
    
    <title>Pong Stat Tracker</title>

</head>
<body>
    
    <div class= "big-text" style= "font-size: 40px">LOGIN</div>
<div class = "columns">
        <div class= "column">
            <form>
                    <input id = "email" value ="email"></input>
                    <input id = "password" value="password"></input>
                    <button id="login">Login</button>
                    <label><a href="createAccount.html">First time? Create an account</a></label>


            </form>

        </div>
        <div class= "column">


        </div>
        


    </div>
    
<!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-app.js"></script>

<!-- TODO: Add SDKs for Firebase products that you want to use
     https://firebase.google.com/docs/web/setup#available-libraries -->
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-analytics.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.1.1/firebase-auth.js"></script>

<script>
  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  var firebaseConfig = {
    apiKey: "AIzaSyBHyOIcIBbAAJ4CUgRMjNo4lck9FIIiY54",
    authDomain: "pongstattracker.firebaseapp.com",
    databaseURL: "https://pongstattracker.firebaseio.com",
    projectId: "pongstattracker",
    storageBucket: "pongstattracker.appspot.com",
    messagingSenderId: "874355232113",
    appId: "1:874355232113:web:f4c6802954a7193f9b7ad0",
    measurementId: "G-6H8RS5YSKE"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  firebase.analytics();
</script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.0/axios.min.js'></script>
  
  <script src="render.js" type="module"></script>
    
  <script>
      const handleLoginButton = function(event) {
          event.preventDefault();
          
          let userEmail = document.getElementById("email").value;
          let userPass = document.getElementById("password").value;
          
          
          firebase.auth().signInWithEmailAndPassword(userEmail, userPass).then(
              (user) => { 
                var x = firebase.auth().currentUser;
               // alert(x.uid);
                window.location.href = "index.html";
                //console.log(user.uid);
              }
          ).catch((error) => {
            var errorCode = error.code;
            var errorMessage = error.message;
            alert(errorMessage);
            });
            
      }

      $("#login").on("click", handleLoginButton);
  </script>

</body>


</html>
